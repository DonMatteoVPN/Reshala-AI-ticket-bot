# –†–µ—à–∞–ª–∞ Support –æ—Ç DonMatteo ‚Äî PRD

## –û–ø–∏—Å–∞–Ω–∏–µ
Telegram –±–æ—Ç + Mini App –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ VPN —Å–µ—Ä–≤–∏—Å–∞ —Å AI-–∞–≤—Ç–æ–æ—Ç–≤–µ—Ç–∞–º–∏.

---

## ‚úÖ –°–ò–°–¢–ï–ú–ê –¢–û–ü–ò–ö–û–í –†–ê–ë–û–¢–ê–ï–¢

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ AI –æ—Ç–≤–µ—á–∞–µ—Ç —á–µ—Ä–µ–∑ Emergent LLM (gemini-2.0-flash)
- ‚úÖ –¢–æ–ø–∏–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –≥—Ä—É–ø–ø–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è `<think>` —Ç–µ–≥–æ–≤ (–º—ã—Å–ª–∏ AI –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç—É)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ë–∞–ª–∞–Ω—Å" –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–í—ã–∑–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞" / "–ó–∞–∫—Ä—ã—Ç—å —Ç–∏–∫–µ—Ç" –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ (–±–µ–∑ –±–∞–ª–∞–Ω—Å–∞)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
- support_group_id: `-1003788042313`
- AI provider: google (Emergent LLM key)
- Model: gemini-2.0-flash

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
/app/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ server.py           # FastAPI + –±–æ—Ç –≤ —Ñ–æ–Ω–µ
‚îÇ   ‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bedolaga.py     # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tickets.py      # ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω reply –≤ Telegram
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ai_router.py
‚îÇ   ‚îú‚îÄ‚îÄ bot/handlers/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ support.py      # ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
‚îÇ   ‚îî‚îÄ‚îÄ services/ai/
‚îÇ       ‚îî‚îÄ‚îÄ manager.py      # API Key Failover
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îî‚îÄ‚îÄ src/pages/
‚îÇ       ‚îú‚îÄ‚îÄ SearchPage.js   # ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ID
‚îÇ       ‚îî‚îÄ‚îÄ TicketsPage.js  # ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
‚îî‚îÄ‚îÄ docker-compose.yml
```

---

## Bedolaga API (–ü–†–ê–í–ò–õ–¨–ù–´–ô –§–û–†–ú–ê–¢)

```python
# –ö–æ–Ω—Ñ–∏–≥
BEDOLAGA_API_URL = "https://bedolaga.example.com"  # –ë–ï–ó /api
BEDOLAGA_API_TOKEN = "your_token"

# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
headers = {"X-API-Key": BEDOLAGA_API_TOKEN}

# 1. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±–∞–ª–∞–Ω—Å–æ–º
GET /users/{telegram_id}
Response: {
    "id": 123,              # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π ID –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π!
    "balance_rubles": 150.50,
    "balance_kopeks": 15050
}

# 2. –ü–æ–ª—É—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
GET /transactions?user_id={bedolaga_user_id}&limit=30&offset=0
Response: {
    "items": [
        {
            "amount_rubles": 100,
            "amount_kopeks": 10000,
            "type": "deposit",
            "description": "–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ...",
            "created_at": "2026-02-14T12:00:00"
        }
    ]
}
```

---

## üü° –û–°–¢–ê–í–®–ò–ï–°–Ø –ó–ê–î–ê–ß–ò (P1-P2)

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ AI-—á–∞—Ç–æ–≤ –≤ MongoDB
–°–µ–π—á–∞—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ user_data –±–æ—Ç–∞ –∏ —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ.

### API Key Failover ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
–ö–æ–¥ –µ—Å—Ç—å, –Ω–æ –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª—Å—è.

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Preview:** https://brain-trainer-46.preview.emergentagent.com
- **–¢–µ—Å—Ç–æ–≤—ã–π —é–∑–µ—Ä:** 5367956099 (@EcoTGmos)

---

*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 15 —Ñ–µ–≤—Ä–∞–ª—è 2026*
